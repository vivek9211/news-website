{"ast":null,"code":"import _regeneratorRuntime from\"/home/vivek/Documents/Projects/react-news-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vivek/Documents/Projects/react-news-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vivek/Documents/Projects/react-news-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import NewsItem from\"../NewsItem/NewsItem\";import Spinner from\"../Spinner/Spinner\";import InfiniteScroll from\"react-infinite-scroll-component\";import NullImage from\"../../components/Images/nullimage.png\";import{Row,Col}from\"react-bootstrap\";import{Header,Container,card}from\"./index\";import{endpointPath}from\"../../config/api\";import{header}from\"../../config/config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function News(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var capitaLize=function capitaLize(string){return string.charAt(0).toUpperCase()+string.slice(1);};document.title=\"\".concat(capitaLize(props.category),\" - News App\");var updatenews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;props.setProgress(15);_context.next=4;return axios.get(endpointPath(props.country,props.category));case 4:response=_context.sent;setLoading(true);props.setProgress(70);parsedData=response.data;setArticles(parsedData.articles);setLoading(false);props.setProgress(100);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function updatenews(){return _ref.apply(this,arguments);};}();useEffect(function(){updatenews();// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{children:header(capitaLize(props.category))}),loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:articles.length,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:articles.map(function(element){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,style:card,children:/*#__PURE__*/_jsx(NewsItem,{title:element.title,description:element.description,published:element.publishedAt,channel:element.source.name,alt:\"Card image\",publishedAt:element.publishedAt,imageUrl:element.image===null?NullImage:element.image,urlNews:element.url})},element.url);})})})})]});}News.defaultProps={country:\"us\",category:\"general\"};export default News;","map":{"version":3,"names":["React","useState","useEffect","axios","NewsItem","Spinner","InfiniteScroll","NullImage","Row","Col","Header","Container","card","endpointPath","header","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","News","props","_useState","_useState2","_slicedToArray","articles","setArticles","_useState3","_useState4","loading","setLoading","capitaLize","string","charAt","toUpperCase","slice","document","title","concat","category","updatenews","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","parsedData","wrap","_callee$","_context","prev","next","setProgress","get","country","sent","data","t0","console","error","stop","apply","arguments","children","dataLength","length","loader","map","element","sm","md","lg","xl","style","description","published","publishedAt","channel","source","name","alt","imageUrl","image","urlNews","url","defaultProps"],"sources":["/home/vivek/Documents/Projects/react-news-app/src/components/News/News.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport NewsItem from \"../NewsItem/NewsItem\";\nimport Spinner from \"../Spinner/Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport NullImage from \"../../components/Images/nullimage.png\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { Header, Container, card } from \"./index\";\nimport { endpointPath } from \"../../config/api\";\nimport { header } from \"../../config/config\";\n\n\nfunction News(props) {\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const capitaLize = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  document.title = `${capitaLize(props.category)} - News App`;\n\n  const updatenews = async () => {\n    try {\n      props.setProgress(15);\n      const response = await axios.get(endpointPath(props.country, props.category));\n      setLoading(true);\n      props.setProgress(70);\n      const parsedData = response.data;\n      setArticles(parsedData.articles);\n      setLoading(false);\n      props.setProgress(100);\n    }\n    catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    updatenews();\n    // eslint-disable-next-line\n  }, []);\n\n\n  return (\n    <>\n      <Header>\n        {header(capitaLize(props.category))}\n      </Header>\n      {loading && <Spinner />}\n      <InfiniteScroll\n        dataLength={articles.length}\n        loader={<Spinner />}\n      >\n        <Container>\n          <Row>\n            {articles.map((element) => {\n              return (\n                <Col\n                  sm={12}\n                  md={6}\n                  lg={4}\n                  xl={3}\n                  style={card}\n                  key={element.url}\n                >\n                  <NewsItem\n                    title={element.title}\n                    description={element.description}\n                    published={element.publishedAt}\n                    channel={element.source.name}\n                    alt=\"Card image\"\n                    publishedAt={element.publishedAt}\n                    imageUrl={\n                      element.image === null\n                        ? NullImage\n                        : element.image\n                    }\n                    urlNews={element.url}\n                  />\n                </Col>\n              );\n            })}\n          </Row>\n        </Container>\n      </InfiniteScroll>\n    </>\n  );\n}\n\nNews.defaultProps = {\n  country: \"us\",\n  category: \"general\",\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  category: PropTypes.string,\n};\n\nexport default News;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}